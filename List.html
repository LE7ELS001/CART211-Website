<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <link rel="icon" href="Assets/Cooking_Icon.png" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">



</head>

<body>

    <div class="container-fluid listGallery g-0">

        <nav class="navbar navbar-expand-lg  w-100 ">
            <div class="container-fluid ">
                <a class="navbar-brand" href="mainpage.html"><img src="Assets/Cooking_Icon.png" alt="Icon"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse navbar-centerItem" id="navbarSupportedContent">
                    <ul class="navbar-nav me-15 mx-auto mb-2 mb-lg-0">
                        <li class="nav-item Home">
                            <a class="nav-link active home-link" aria-current="page" href="mainpage.html">HOME</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link gallery" href="Gallery.html">GALLERY</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link list" href="List.html">LIST</a>
                        </li>
                        <li class="nav-item mx-4 searchBar  ">
                            <a class="nav-link searchBarText" href="Search.html">SEARCH</a>
                        </li>
                        </li>
                        <li class="nav-item mx-4 Blog">
                            <a class="nav-link blogText" href="Blog.html">BLOG</a>
                        </li>
                        <li class="nav-item mx-4 Website  ">
                            <a class="nav-link websiteText" href="https://www.stardewvalley.net/">OFFICIAL WEBSITE</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="row text-frame">
            <div class="col-12 list-description">
                Bon appétit
            </div>

            <div class="col-4  g-0 justify-content-center list-search">
                <input class="form-control" type="text" id="searchInput" aria-label="Search"
                    placeholder="Search for dishes..." style="width: 100%;">
                <div class="col-8"></div>
            </div>
            <div class="col-12">

                <table class="table list-table table-bordered">
                    <thead class="table-success list-header">
                        <tr>
                            <th scope="col ">Image</th>
                            <th scope="col">Name
                                <i class="fa fa-sort"></i>
                            </th>
                            <th scope="col">Ingredients</th>
                            <th scope="col">Energy / Health</th>
                            <th scope="col">Buff</th>
                            <th scope="col">Buff Duration</th>
                            <th scope="col">Sell Price
                                <i class="fa fa-sort"></i>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Summer/Blueberry-tart.html"><img
                                        src="Assets/Blueberry_Tart.png" alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Summer/Blueberry-tart.html">Blueberry Tart</a></td>
                            <td>Blueberry <br> Wheat Flour <br> Sugar <br> Egg</td>
                            <td>125/56</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>150g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Autumn/Blackberry-cobbler.html"><img
                                        src="Assets/Blackberry_Cobbler.png" alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Autumn/Blackberry-cobbler.html">Blackberry Cobbler</a></td>
                            <td>Blackberry <br> Wheat Flour <br> Sugar </td>
                            <td>175/78</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>260g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Winter/Cookie.html"><img src="Assets/Cookie_icon.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Winter/Cookie.html">Cookie</a></td>
                            <td> Wheat Flour <br> Sugar <br> Egg</td>
                            <td>90/40</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>140g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Spring/Farmer-lunch.html"><img src="Assets/Farmer_Lunch.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Spring/Farmer-lunch.html">Farmer's Lunch</a></td>
                            <td>Omelet <br>Parsnip</td>
                            <td>200/90</td>
                            <td>Farming(+3)</td>
                            <td>5m 35s</td>
                            <td>150g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Summer/Pink-cake.html"><img src="Assets/Pink_Cake.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Summer/Pink-cake.html">Pink Cake</a></td>
                            <td>Melon <br> Wheat Flour <br> Sugar <br> Egg</td>
                            <td>250/112</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>480g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Winter/Pepper-poppers.html"><img
                                        src="Assets/Pepper_Poppers.png" alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Winter/Pepper-poppers.html">Pepper Poppers</a></td>
                            <td>Hot Pepper <br> Cheese</td>
                            <td>130/60</td>
                            <td>Attack(+2)</td>
                            <td>7m</td>
                            <td>200g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Autumn/Fish-stew.html"><img src="Assets/Fish_Stew.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Autumn/Fish-stew.html">Fish Stew</a></td>
                            <td>Crayfish <br> Mussel <br> Periwinkle <br> Tomato</td>
                            <td>225/101</td>
                            <td>Fishing(+3)</td>
                            <td>16m 47s</td>
                            <td>175g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Winter/Strange-bun.html"><img src="Assets/Strange_Bun.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Winter/Strange-bun.html">Strange Bun</a></td>
                            <td>Wheat Flour <br> Periwinkle <br> Void Mayonnaise</td>
                            <td>100/45</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>225g</td>
                        </tr>

                        <tr class="mainContent align-middle">
                            <th scope="row"><a href="Dishes/Summer/Maki-roll.html"><img src="Assets/Maki_Roll.png"
                                        alt="Blueberry tart"></a>
                            </th>
                            <td><a href="Dishes/Summer/Maki-roll.html">Maki Roll</a></td>
                            <td>Any Fish <br> Seaweed <br> Rice</td>
                            <td>100/45</td>
                            <td>N/A</td>
                            <td>N/A</td>
                            <td>220g</td>
                        </tr>


                    </tbody>
                </table>
            </div>

            <div class="col-12 list-back-to-top-frame"><button onclick="scrollToTop()" class="back-to-top">Back to
                    top</button>
            </div>
        </div>




        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>

        <script>
            const ths = document.querySelectorAll('th[scope="col"]');
            let nameHeader;
            let sellPriceHeader;

            let currentSort = {
                column: null,
                order: 'asc'
            };

            ths.forEach(th => {
                if (th.textContent.includes("Name")) {
                    nameHeader = th;
                }
                if (th.textContent.includes("Sell Price")) {
                    sellPriceHeader = th;
                }
            });

            if (nameHeader) {
                nameHeader.addEventListener('click', function () {
                    sortTable('name');
                    if (nameHeader.classList.contains('active')) {
                        const icon = nameHeader.querySelector('i');
                        toggleIcon(icon);
                    } else {
                        nameHeader.classList.add('active');
                        resetIcons();
                        const icon = nameHeader.querySelector('i');
                        toggleIcon(icon);
                    }
                });
            }

            if (sellPriceHeader) {
                sellPriceHeader.addEventListener('click', function () {
                    sortTable('sellPrice');
                    if (sellPriceHeader.classList.contains('active')) {

                        const icon = sellPriceHeader.querySelector('i');
                        toggleIcon(icon);
                    } else {

                        sellPriceHeader.classList.add('active');
                        resetIcons();
                        const icon = sellPriceHeader.querySelector('i');
                        toggleIcon(icon);
                    }
                });
            }

            function toggleIcon(icon) {
                if (icon.classList.contains('fa-sort')) {
                    icon.classList.remove('fa-sort');
                    icon.classList.add('fa-sort-up');
                } else if (icon.classList.contains('fa-sort-up')) {
                    icon.classList.remove('fa-sort-up');
                    icon.classList.add('fa-sort-down');
                } else {
                    icon.classList.remove('fa-sort-down');
                    icon.classList.add('fa-sort');
                }
            }

            function resetIcons() {
                ths.forEach(th => {
                    const icon = th.querySelector('i');
                    if (icon && !th.classList.contains('active')) {
                        icon.classList.remove('fa-sort-up', 'fa-sort-down');
                        icon.classList.add('fa-sort');
                    }
                    th.classList.remove('active');
                });
            }

            function sortTable(column) {
                const rows = Array.from(document.querySelectorAll('table tbody tr'));
                const index = column === 'name' ? 1 : 6;  // 根据列名定位索引，这里假设 Name 是第 1 列，Sell Price 是第 6 列

                // 根据当前排序列和顺序反转排序
                if (currentSort.column === column) {
                    currentSort.order = currentSort.order === 'asc' ? 'desc' : 'asc';
                } else {
                    currentSort.column = column;
                    currentSort.order = 'asc';
                }

                rows.sort((rowA, rowB) => {
                    const cellA = rowA.cells[index].textContent.trim();
                    const cellB = rowB.cells[index].textContent.trim();

                    // 判断是否为数字
                    const isNumber = !isNaN(cellA) && !isNaN(cellB);

                    let comparison = 0;

                    if (isNumber) {
                        //number
                        comparison = parseFloat(cellA) - parseFloat(cellB);
                    } else {
                        //string
                        comparison = cellA.localeCompare(cellB);
                    }

                    // change according to current statement
                    return currentSort.order === 'asc' ? comparison : -comparison;
                });

                // renew data order
                const tbody = document.querySelector('table tbody');
                rows.forEach(row => tbody.appendChild(row));  // 重新排序表格行
            }

            //search function 
            document.getElementById('searchInput').addEventListener('input', function () {
                const searchQuery = this.value.toLowerCase();  // 获取搜索输入并转为小写
                const rows = document.querySelectorAll('table tbody tr');  // 获取所有表格行

                rows.forEach(row => {
                    const nameCell = row.cells[1];  // 假设"Name"在第2列
                    const nameText = nameCell.textContent.toLowerCase();  // 获取Name列的文本内容并转为小写

                    // 如果名称包含搜索内容，则显示该行，否则隐藏
                    if (nameText.includes(searchQuery)) {
                        row.style.display = '';  // 显示行
                    } else {
                        row.style.display = 'none';  // 隐藏行
                    }
                });
            });

            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth' // 平滑滚动
                });
            }

        </script>
    </div>
</body>

</html>